<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Classifica.</title>
    <link rel="stylesheet" href="stile.css">
    <script>
        var sia = []; // Salto in alto.
        var siaMis = [];
        var sil = []; // Salto in lungo.
        var silMis = [];
        var sto = []; // Salto triplo.
        var stoMis = [];
        function inserisci() {
            var nome = document.getElementById("nome").value;
            var cognome = document.getElementById("cognome").value;
            var distanza = parseInt(document.getElementById("distanza").value);
            var gara = document.getElementById("gara").value;

            if (nome.length === 0) {
                confirm("Inserire un nome!");
                return;
            }
            if (cognome.length === 0) {
                confirm("Inserire un cognome!");
                return;
            }
            if (distanza.length === 0) {
                confirm("Inserire una distanza!");
                return;
            }

            if (gara === "1") {
                sia.push(nome + " " + cognome);
                siaMis.push(distanza);

                confirm("Inserito con successo in salto in alto!");

                document.getElementById("nome").value = "";
                document.getElementById("cognome").value = "";
                document.getElementById("distanza").value = "";
                return;
            }
            if (gara === "2") {
                sil.push(nome + " " + cognome);
                silMis.push(distanza);

                confirm("Inserito con successo in salto in lungo!");

                document.getElementById("nome").value = "";
                document.getElementById("cognome").value = "";
                document.getElementById("distanza").value = "";
                return;
            }
            if (gara === "3") {
                sto.push(nome + " " + cognome);
                stoMis.push(distanza);

                confirm("Inserito con successo in salto triplo!");

                document.getElementById("nome").value = "";
                document.getElementById("cognome").value = "";
                document.getElementById("distanza").value = "";
                return;
            }
        }

        function riordinamento(){
            siaMis = siaMis.sort((a, b)=>a-b);
            silMis = silMis.sort((a, b)=>a-b);
            stoMis = stoMis.sort((a, b)=>a-b);
        }

        function creaTable(){
            // Creare una funzione di riordinamento dal valore più alto a quello più basso
            riordinamento();

            // Evita che si duplichi.
            if (document.getElementsByClassName("table")){
                var table = document.getElementsByClassName("table");
                var testo = document.getElementsByClassName("testo");
                while (table.length > 0){
                    table[0].parentNode.removeChild(table[0]);
                }
                while(testo.length > 0){
                    testo[0].parentNode.removeChild(testo[0]);
                }
            }

            var table = document.createElement("table");
            var testo = document.createElement("h2");
            testo.className = "testo";
            testo.textContent = "Salto in alto:";
            var riga;
            var numero;
            var cella;
            var cella2;
            for (var i = sia.length; i > 0; i--){
                riga = table.insertRow();
                numero = riga.insertCell().textContent = ((sia.length + 1) - i) + "°";
                cella = riga.insertCell().textContent = sia[i - 1];
                cella2 = riga.insertCell().textContent = siaMis[i - 1];
            }
            document.body.appendChild(testo);
            table.className = "table";
            document.body.appendChild(table);

            table = document.createElement("table");
            var testo2 = document.createElement("h2");
            testo2.className = "testo"
            testo2.textContent = "Salto in lungo:";
            var riga;
            var numero;
            var cella;
            var cella2;
            for (var i = sil.length; i > 0; i--){
                riga = table.insertRow();
                numero = riga.insertCell().textContent = ((sil.length + 1) - i) + "°";
                cella = riga.insertCell().textContent = sil[i - 1];
                cella2 = riga.insertCell().textContent = silMis[i - 1];
            }
            document.body.appendChild(testo2);
            table.className = "table";
            document.body.appendChild(table);

            table = document.createElement("table");
            var testo3 = document.createElement("h2");
            testo3.className = "testo"
            testo3.textContent = "Salto triplo:";
            var riga;
            var numero;
            var cella;
            var cella2;
            for (var i = sto.length; i > 0; i--){
                riga = table.insertRow();
                numero = riga.insertCell().textContent = ((sto.length + 1) - i) + "°";
                cella = riga.insertCell().textContent = sto[i - 1];
                cella2 = riga.insertCell().textContent = stoMis[i - 1];
            }
            document.body.appendChild(testo3);
            table.className = "table";
            document.body.appendChild(table);

        }
    </script>
</head>
<body>
<h1>Gare di Atletica di G.C.</h1>
<br>
<h3>Inserisci dati:</h3>
<input type="text" id="nome" placeholder="Nome Atleta.">
<input type="text" id="cognome" placeholder="Cognome Atleta.">
<input type="number" id="distanza" placeholder="Distanza in CM.">
<br>
<br>
<select name="gare" id="gara">
    <option value="1">Salto in alto</option>
    <option value="2">Salto in lungo</option>
    <option value="3">Salto triplo</option>
</select>
<input type="button" id="inserisci" onclick="inserisci()" value="Inserisci">
<br>
<br>
<input type="button" id="creaTabella" onclick="creaTable()" value="Crea tabella">
<br>
<br>
<br>
<br>
</body>
</html>